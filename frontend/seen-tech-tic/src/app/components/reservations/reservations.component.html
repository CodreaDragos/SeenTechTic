<div class="reservations-page-bg">
  <div class="bg-shape bg-shape-bottom"></div>
  <div class="bg-shape bg-shape-left"></div>
  <div class="container reservations-dark-bg">
    <div class="reservations-header-bar">
      <h1 class="page-title reservations-title">Rezervări</h1>
      <button mat-button color="primary" (click)="logout()" class="logout-btn">Logout</button>
    </div>
    <app-back-button></app-back-button>
    
    <button (click)="showAddForm = !showAddForm" class="action-button add-reservation-btn">
      {{ showAddForm ? 'Anulează' : 'Adaugă Rezervare' }}
    </button>

    <form *ngIf="showAddForm" [formGroup]="reservationForm" (ngSubmit)="addReservation()" class="reservation-form">
      <div class="form-group">
        <label for="StartTime">Ora de început</label>
        <input type="datetime-local" id="StartTime" formControlName="StartTime" class="form-control">
      </div>
      <div class="form-group">
        <label for="EndTime">Ora de sfârșit</label>
        <input type="datetime-local" id="EndTime" formControlName="EndTime" class="form-control">
      </div>
      <div class="form-group">
        <label for="fieldId">Număr Teren</label>
        <input type="number" id="fieldId" formControlName="fieldId" required min="1" class="form-control">
      </div>
      <button type="submit" class="action-button save-btn">Salvează Rezervarea</button>
    </form>

    <div *ngFor="let reservation of reservations" class="reservation-card reservation-card-dark">
      <div class="reservation-info">
        <div class="reservation-field">
          <span class="reservation-label">Teren</span>
          <span class="reservation-value">{{ reservation.fieldId }}</span>
        </div>
        <div class="reservation-time">
          <span class="reservation-label">{{ reservation.startTime | date:'mediumDate' }}</span>
          <span class="reservation-value">{{ reservation.startTime | date:'shortTime' }} - {{ reservation.endTime | date:'shortTime' }}</span>
        </div>
      </div>
      <div class="reservation-meta-footer">
        <span class="meta-footer-item">Autor ID: {{ reservation.authorId }}</span>
        <div class="btn-group">
          <button (click)="editReservation(reservation)" class="action-button edit-btn">
            <i class="fas fa-edit"></i> Modifică
          </button>
          <button (click)="deleteReservation(reservation)" class="action-button delete-btn">
            <i class="fas fa-trash"></i> Șterge
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
