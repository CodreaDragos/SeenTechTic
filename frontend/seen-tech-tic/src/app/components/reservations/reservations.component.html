<div class="container">
  <h1>Rezervări</h1>
  <app-back-button></app-back-button>
  <div class="logo ut-bar">
    <button mat-button color="primary" (click)="logout()">Log Out</button>
  </div>
  <!-- Buton pentru toggle formular -->
  <button (click)="showAddForm = !showAddForm" class="action-button toggle-btn">
    {{ showAddForm ? 'Anulează' : 'Adaugă Rezervare' }}
  </button>

  <!-- Formularul apare doar când showAddForm e true -->
  <form *ngIf="showAddForm" [formGroup]="reservationForm" (ngSubmit)="addReservation()" class="reservation-form">
    <div class="form-group">
      <label for="StartTime">Start Time</label>
      <input type="datetime-local" id="StartTime" formControlName="StartTime" class="form-control">
    </div>
    <div class="form-group">
      <label for="EndTime">End Time</label>
      <input type="datetime-local" id="EndTime" formControlName="EndTime" class="form-control">
    </div>

    <label>
      Field ID:
      <input type="number" formControlName="fieldId" required min="1" />
    </label>

    <button type="submit" class="action-button save-btn">Salvează Rezervarea</button>
  </form>

  <div *ngFor="let reservation of reservations" class="reservation-card">
    <p><strong>Start:</strong> {{ reservation.startTime | date:'short' }}</p>
    <p><strong>End:</strong> {{ reservation.endTime | date:'short' }}</p>
    <p><strong>Field ID:</strong> {{ reservation.fieldId }}</p>
    <p><strong>Author ID:</strong> {{ reservation.authorId }}</p>
    <div class="btn-group">
      <button (click)="deleteReservation(reservation)" class="action-button delete-btn">Șterge</button>
      <button (click)="editReservation(reservation)" class="action-button edit-btn">Modifică</button>
    </div>
  </div>
</div>
