<div class="auth-container dark-theme">
  <div class="auth-card">
    <h2 class="auth-title">CREATE ACCOUNT</h2>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

      <mat-form-field appearance="fill" class="full-width">
        <input matInput placeholder="Username" formControlName="username" />

        <mat-error *ngIf="registerForm.get('username')?.hasError('required') && registerForm.get('username')?.touched">
          Username este obligatoriu.
        </mat-error>

        <mat-error *ngIf="registerForm.get('username')?.hasError('minlength') && registerForm.get('username')?.touched">
          Username trebuie să aibă cel puțin 3 caractere.
        </mat-error>
      </mat-form-field>


      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" placeholder="exemplu@email.com" />
      </mat-form-field>

      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Parolă</mat-label>
        <input matInput formControlName="password" type="password" placeholder="Parolă" />
        <mat-error *ngIf="registerForm.get('password')?.hasError('required') && registerForm.get('password')?.touched">
          Parola este obligatorie.
        </mat-error>
        <mat-error *ngIf="registerForm.get('password')?.hasError('minlength') && registerForm.get('password')?.touched">
          Parola trebuie să aibă cel puțin 6 caractere.
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Confirmă Parola</mat-label>
        <input matInput formControlName="confirmPassword" type="password" placeholder="Confirmă parola" />
        <mat-error *ngIf="registerForm.get('confirmPassword')?.hasError('required') && registerForm.get('confirmPassword')?.touched">
          Confirmarea parolei este obligatorie.
        </mat-error>
      </mat-form-field>


      <div class="response-message" [ngClass]="{ 'error': isError, 'success': !isError }" *ngIf="responseMessage">
        {{ responseMessage }}
      </div>

      <button mat-raised-button color="primary" class="submit-button" type="submit" [disabled]="!registerForm.valid || isLoading">
        <mat-icon *ngIf="isLoading" class="loading-icon">autorenew</mat-icon>
        <span *ngIf="!isLoading">Înregistrează-te</span>
        <span *ngIf="isLoading">Se înregistrează...</span>
      </button>

      <div class="auth-link">
        Ai deja cont? <a (click)="goToLogin()">Autentifică-te</a>
      </div>

    </form>
  </div>
</div>
